# Copyright (c) eHealth.co.id as PT Aksara Digital Indonesia
# SPDX-License-Identifier: MPL-2.0

# Docker Compose setup for local testing of the Terraform provider.
#
# Usage:
#   docker compose up -d
#   
# First-time setup:
#   1. Start the container: docker compose up -d
#   2. Open http://localhost:3001 in your browser
#   3. Create an admin account with:
#      - Username: admin
#      - Password: admin123
#   4. Wait a few seconds for the server to initialize
#
# Then set the following environment variables for testing:
#   export UPTIMEKUMA_BASE_URL="http://localhost:3001"
#   export UPTIMEKUMA_USERNAME="admin"
#   export UPTIMEKUMA_PASSWORD="admin123"
#
# Run acceptance tests:
#   TF_ACC=1 go test -v ./internal/provider/
#

services:
  uptime-kuma:
    image: louislam/uptime-kuma:2
    container_name: uptime-kuma
    volumes:
      - uptime-kuma-data:/app/data
    ports:
      - "3001:3001"
    restart: unless-stopped

volumes:
  uptime-kuma-data:
